(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/yuangonggongzi/add-or-update"],{"511b":function(i,e,t){"use strict";(function(i){t("6cdc"),t("921b");n(t("66fd"));var e=n(t("9016"));function n(i){return i&&i.__esModule?i:{default:i}}i(e.default)}).call(this,t("543d")["createPage"])},8329:function(i,e,t){"use strict";var n,r=function(){var i=this,e=i.$createElement;i._self._c},a=[];t.d(e,"b",(function(){return r})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return n}))},8906:function(i,e,t){"use strict";t.r(e);var n=t("dc8d"),r=t.n(n);for(var a in n)"default"!==a&&function(i){t.d(e,i,(function(){return n[i]}))}(a);e["default"]=r.a},9016:function(i,e,t){"use strict";t.r(e);var n=t("8329"),r=t("8906");for(var a in r)"default"!==a&&function(i){t.d(e,i,(function(){return r[i]}))}(a);t("9fcb");var u,o=t("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"48adb0fc",null,!1,n["a"],u);e["default"]=s.exports},"9fcb":function(i,e,t){"use strict";var n=t("b50d"),r=t.n(n);r.a},b50d:function(i,e,t){},dc8d:function(i,e,t){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(t("a34a"));function r(i){return i&&i.__esModule?i:{default:i}}function a(i,e,t,n,r,a,u){try{var o=i[a](u),s=o.value}catch(g){return void t(g)}o.done?e(s):Promise.resolve(s).then(n,r)}function u(i){return function(){var e=this,t=arguments;return new Promise((function(n,r){var u=i.apply(e,t);function o(i){a(u,n,r,o,s,"next",i)}function s(i){a(u,n,r,o,s,"throw",i)}o(void 0)}))}}var o=function(){return Promise.all([t.e("common/vendor"),t.e("components/w-picker/w-picker")]).then(t.bind(null,"e2b1"))},s=function(){return t.e("components/xia-editor/xia-editor").then(t.bind(null,"064f"))},g={data:function(){return{cross:"",ruleForm:{gongziyuefen:"",yuangonggonghao:"",yuangongxingming:"",bumen:"",xingbie:"",zhiwei:"",dixin:"",jiangjin:"",jixiao:"",gangweibutie:"",quanqinjiang:"",jiabanfei:"",koujixiao:"",qitakoukuan:"",kouwuxianyijin:"",shifagongzi:"",gongzibeizhu:"",faburiqi:""},gongziyuefenOptions:[],gongziyuefenIndex:0,yuangonggonghaoOptions:[],yuangonggonghaoIndex:0,user:{},ro:{gongziyuefen:!1,yuangonggonghao:!1,yuangongxingming:!1,bumen:!1,xingbie:!1,zhiwei:!1,dixin:!1,jiangjin:!1,jixiao:!1,gangweibutie:!1,quanqinjiang:!1,jiabanfei:!1,koujixiao:!1,qitakoukuan:!1,kouwuxianyijin:!1,shifagongzi:!1,gongzibeizhu:!1,faburiqi:!1}}},components:{wPicker:o,xiaEditor:s},computed:{baseUrl:function(){return this.$base.url},shifagongzi:{get:function(){return 0+parseFloat(this.ruleForm.dixin)+parseFloat(this.ruleForm.jiangjin)+parseFloat(this.ruleForm.jixiao)+parseFloat(this.ruleForm.gangweibutie)+parseFloat(this.ruleForm.quanqinjiang)+parseFloat(this.ruleForm.jiabanfei)-this.ruleForm.koujixiao-this.ruleForm.qitakoukuan-this.ruleForm.kouwuxianyijin||""}}},onLoad:function(){var e=u(n.default.mark((function e(t){var r,a,u,o;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.ruleForm.faburiqi=this.$utils.getCurDate(),r=i.getStorageSync("nowTable"),e.next=4,this.$api.session(r);case 4:return a=e.sent,this.user=a.data,this.ro.yuangongxingming=!0,this.ro.bumen=!0,this.ro.xingbie=!0,this.ro.zhiwei=!0,this.ro.shifagongzi=!0,this.gongziyuefenOptions="一月,二月,三月,四月,五月,六月,七月,八月,九月,十月,十一月,十二月".split(","),e.next=14,this.$api.option("yuangong","yuangonggonghao",{});case 14:if(a=e.sent,this.yuangonggonghaoOptions=a.data,this.ruleForm.userid=i.getStorageSync("userid"),t.refid&&(this.ruleForm.refid=t.refid,this.ruleForm.nickname=i.getStorageSync("nickname")),!t.id){e.next=24;break}return this.ruleForm.id=t.id,e.next=22,this.$api.info("yuangonggongzi",this.ruleForm.id);case 22:a=e.sent,this.ruleForm=a.data;case 24:if(this.cross=t.cross,!t.cross){e.next=104;break}u=i.getStorageSync("crossObj"),e.t0=n.default.keys(u);case 28:if((e.t1=e.t0()).done){e.next=104;break}if(o=e.t1.value,"gongziyuefen"!=o){e.next=34;break}return this.ruleForm.gongziyuefen=u[o],this.ro.gongziyuefen=!0,e.abrupt("continue",28);case 34:if("yuangonggonghao"!=o){e.next=38;break}return this.ruleForm.yuangonggonghao=u[o],this.ro.yuangonggonghao=!0,e.abrupt("continue",28);case 38:if("yuangongxingming"!=o){e.next=42;break}return this.ruleForm.yuangongxingming=u[o],this.ro.yuangongxingming=!0,e.abrupt("continue",28);case 42:if("bumen"!=o){e.next=46;break}return this.ruleForm.bumen=u[o],this.ro.bumen=!0,e.abrupt("continue",28);case 46:if("xingbie"!=o){e.next=50;break}return this.ruleForm.xingbie=u[o],this.ro.xingbie=!0,e.abrupt("continue",28);case 50:if("zhiwei"!=o){e.next=54;break}return this.ruleForm.zhiwei=u[o],this.ro.zhiwei=!0,e.abrupt("continue",28);case 54:if("dixin"!=o){e.next=58;break}return this.ruleForm.dixin=u[o],this.ro.dixin=!0,e.abrupt("continue",28);case 58:if("jiangjin"!=o){e.next=62;break}return this.ruleForm.jiangjin=u[o],this.ro.jiangjin=!0,e.abrupt("continue",28);case 62:if("jixiao"!=o){e.next=66;break}return this.ruleForm.jixiao=u[o],this.ro.jixiao=!0,e.abrupt("continue",28);case 66:if("gangweibutie"!=o){e.next=70;break}return this.ruleForm.gangweibutie=u[o],this.ro.gangweibutie=!0,e.abrupt("continue",28);case 70:if("quanqinjiang"!=o){e.next=74;break}return this.ruleForm.quanqinjiang=u[o],this.ro.quanqinjiang=!0,e.abrupt("continue",28);case 74:if("jiabanfei"!=o){e.next=78;break}return this.ruleForm.jiabanfei=u[o],this.ro.jiabanfei=!0,e.abrupt("continue",28);case 78:if("koujixiao"!=o){e.next=82;break}return this.ruleForm.koujixiao=u[o],this.ro.koujixiao=!0,e.abrupt("continue",28);case 82:if("qitakoukuan"!=o){e.next=86;break}return this.ruleForm.qitakoukuan=u[o],this.ro.qitakoukuan=!0,e.abrupt("continue",28);case 86:if("kouwuxianyijin"!=o){e.next=90;break}return this.ruleForm.kouwuxianyijin=u[o],this.ro.kouwuxianyijin=!0,e.abrupt("continue",28);case 90:if("shifagongzi"!=o){e.next=94;break}return this.ruleForm.shifagongzi=u[o],this.ro.shifagongzi=!0,e.abrupt("continue",28);case 94:if("gongzibeizhu"!=o){e.next=98;break}return this.ruleForm.gongzibeizhu=u[o],this.ro.gongzibeizhu=!0,e.abrupt("continue",28);case 98:if("faburiqi"!=o){e.next=102;break}return this.ruleForm.faburiqi=u[o],this.ro.faburiqi=!0,e.abrupt("continue",28);case 102:e.next=28;break;case 104:this.styleChange();case 105:case"end":return e.stop()}}),e,this)})));function t(i){return e.apply(this,arguments)}return t}(),methods:{styleChange:function(){this.$nextTick((function(){}))},yuangonggonghaoChange:function(){var i=u(n.default.mark((function i(e){var t;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return this.yuangonggonghaoIndex=e.target.value,this.ruleForm.yuangonggonghao=this.yuangonggonghaoOptions[this.yuangonggonghaoIndex],i.next=4,this.$api.follow("yuangong","yuangonggonghao",{columnValue:this.ruleForm.yuangonggonghao});case 4:t=i.sent,t.data.yuangongxingming&&(this.ruleForm.yuangongxingming=t.data.yuangongxingming),t.data.bumen&&(this.ruleForm.bumen=t.data.bumen),t.data.xingbie&&(this.ruleForm.xingbie=t.data.xingbie),t.data.zhiwei&&(this.ruleForm.zhiwei=t.data.zhiwei);case 9:case"end":return i.stop()}}),i,this)})));function e(e){return i.apply(this,arguments)}return e}(),faburiqiChange:function(i){this.ruleForm.faburiqi=i.target.value,this.$forceUpdate()},gongziyuefenChange:function(i){this.gongziyuefenIndex=i.target.value,this.ruleForm.gongziyuefen=this.gongziyuefenOptions[this.gongziyuefenIndex]},getUUID:function(){return(new Date).getTime()},onSubmitTap:function(){var e=u(n.default.mark((function e(){var t,r,a,u,o,s,g,h,c,l;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ruleForm.shifagongzi=this.shifagongzi,this.ruleForm.gongziyuefen){e.next=4;break}return this.$utils.msg("工资月份不能为空"),e.abrupt("return");case 4:if(this.ruleForm.yuangonggonghao){e.next=7;break}return this.$utils.msg("员工工号不能为空"),e.abrupt("return");case 7:if(this.ruleForm.dixin){e.next=10;break}return this.$utils.msg("底薪不能为空"),e.abrupt("return");case 10:if(!this.ruleForm.dixin||this.$validate.isIntNumer(this.ruleForm.dixin)){e.next=13;break}return this.$utils.msg("底薪应输入整数"),e.abrupt("return");case 13:if(this.ruleForm.jiangjin){e.next=16;break}return this.$utils.msg("奖金不能为空"),e.abrupt("return");case 16:if(!this.ruleForm.jiangjin||this.$validate.isIntNumer(this.ruleForm.jiangjin)){e.next=19;break}return this.$utils.msg("奖金应输入整数"),e.abrupt("return");case 19:if(this.ruleForm.jixiao){e.next=22;break}return this.$utils.msg("绩效不能为空"),e.abrupt("return");case 22:if(!this.ruleForm.jixiao||this.$validate.isIntNumer(this.ruleForm.jixiao)){e.next=25;break}return this.$utils.msg("绩效应输入整数"),e.abrupt("return");case 25:if(this.ruleForm.gangweibutie){e.next=28;break}return this.$utils.msg("岗位补贴不能为空"),e.abrupt("return");case 28:if(!this.ruleForm.gangweibutie||this.$validate.isIntNumer(this.ruleForm.gangweibutie)){e.next=31;break}return this.$utils.msg("岗位补贴应输入整数"),e.abrupt("return");case 31:if(this.ruleForm.quanqinjiang){e.next=34;break}return this.$utils.msg("全勤奖不能为空"),e.abrupt("return");case 34:if(!this.ruleForm.quanqinjiang||this.$validate.isIntNumer(this.ruleForm.quanqinjiang)){e.next=37;break}return this.$utils.msg("全勤奖应输入整数"),e.abrupt("return");case 37:if(this.ruleForm.jiabanfei){e.next=40;break}return this.$utils.msg("加班费不能为空"),e.abrupt("return");case 40:if(!this.ruleForm.jiabanfei||this.$validate.isIntNumer(this.ruleForm.jiabanfei)){e.next=43;break}return this.$utils.msg("加班费应输入整数"),e.abrupt("return");case 43:if(this.ruleForm.koujixiao){e.next=46;break}return this.$utils.msg("扣绩效不能为空"),e.abrupt("return");case 46:if(!this.ruleForm.koujixiao||this.$validate.isIntNumer(this.ruleForm.koujixiao)){e.next=49;break}return this.$utils.msg("扣绩效应输入整数"),e.abrupt("return");case 49:if(this.ruleForm.qitakoukuan){e.next=52;break}return this.$utils.msg("其它扣款不能为空"),e.abrupt("return");case 52:if(!this.ruleForm.qitakoukuan||this.$validate.isIntNumer(this.ruleForm.qitakoukuan)){e.next=55;break}return this.$utils.msg("其它扣款应输入整数"),e.abrupt("return");case 55:if(this.ruleForm.kouwuxianyijin){e.next=58;break}return this.$utils.msg("扣五险一金不能为空"),e.abrupt("return");case 58:if(!this.ruleForm.kouwuxianyijin||this.$validate.isIntNumer(this.ruleForm.kouwuxianyijin)){e.next=61;break}return this.$utils.msg("扣五险一金应输入整数"),e.abrupt("return");case 61:if(!this.ruleForm.shifagongzi||this.$validate.isIntNumer(this.ruleForm.shifagongzi)){e.next=64;break}return this.$utils.msg("实发工资应输入整数"),e.abrupt("return");case 64:if(!this.cross){e.next=80;break}if(o=i.getStorageSync("statusColumnName"),s=i.getStorageSync("statusColumnValue"),""==o){e.next=80;break}if(t||(t=i.getStorageSync("crossObj")),o.startsWith("[")){e.next=76;break}for(g in t)g==o&&(t[g]=s);return h=i.getStorageSync("crossTable"),e.next=74,this.$api.update("".concat(h),t);case 74:e.next=80;break;case 76:r=Number(i.getStorageSync("userid")),a=t["id"],u=i.getStorageSync("statusColumnName"),u=u.replace(/\[/,"").replace(/\]/,"");case 80:if(!a||!r){e.next=102;break}return this.ruleForm.crossuserid=r,this.ruleForm.crossrefid=a,c={page:1,limit:10,crossuserid:r,crossrefid:a},e.next=86,this.$api.list("yuangonggongzi",c);case 86:if(l=e.sent,!(l.data.total>=u)){e.next=92;break}return this.$utils.msg(i.getStorageSync("tips")),e.abrupt("return",!1);case 92:if(!this.ruleForm.id){e.next=97;break}return e.next=95,this.$api.update("yuangonggongzi",this.ruleForm);case 95:e.next=99;break;case 97:return e.next=99,this.$api.add("yuangonggongzi",this.ruleForm);case 99:this.$utils.msgBack("提交成功");case 100:e.next=110;break;case 102:if(!this.ruleForm.id){e.next=107;break}return e.next=105,this.$api.update("yuangonggongzi",this.ruleForm);case 105:e.next=109;break;case 107:return e.next=109,this.$api.add("yuangonggongzi",this.ruleForm);case 109:this.$utils.msgBack("提交成功");case 110:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),optionsChange:function(i){this.index=i.target.value},bindDateChange:function(i){this.date=i.target.value},getDate:function(i){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return"start"===i?t-=60:"end"===i&&(t+=2),n=n>9?n:"0"+n,r=r>9?r:"0"+r,"".concat(t,"-").concat(n,"-").concat(r)},toggleTab:function(i){this.$refs[i].show()}}};e.default=g}).call(this,t("543d")["default"])}},[["511b","common/runtime","common/vendor"]]]);